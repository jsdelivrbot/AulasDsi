<html>

<head>

  <script type="text/javascript">

  function carregar() {

    let url = '/api/aluno';

    fetch(url)
      .then(res => res.json())
      .then((out) => {
        addTable(out);
        console.log('Resultado', out);
    })
    .catch(err => console.error(err));

  }









  function addTable(resultado) {
    var table = document.createElement('table');
    for( var i = 0; i < resultado.length; i++ ) {

      var child = resultado[i];
      if(i === 0 ) {
        addHeaders(table, Object.keys(child));
      }
      var row = table.insertRow();
      Object.keys(child).forEach(function(k) {
        console.log(k);
        var cell = row.insertCell();
        cell.appendChild(document.createTextNode(child[k]));
      })
    }

    document.getElementById('tabela').appendChild(table);
  }







  function addHeaders(table, keys) {
    var row = table.insertRow();
    for( var i = 0; i < keys.length; i++ ) {
      var cell = row.insertCell();
      cell.appendChild(document.createTextNode(keys[i]));
    }
  }





  </script>

</head>


<!-- <body onload="carregar();"> -->
<body>

  <input id="clickMe" type="button" value="Carregar" onclick="carregar();" />

  <div id="tabela"></div>

</body>


</html>
